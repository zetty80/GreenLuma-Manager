<Window
    x:Class="GreenLuma_Manager.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:GreenLuma_Manager"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:GreenLuma_Manager.Models"
    xmlns:utilities="clr-namespace:GreenLuma_Manager.Utilities"
    Title="GreenLuma Manager"
    Width="1036"
    Height="708"
    MinWidth="1036"
    MinHeight="708"
    Background="#FF1A1A1A"
    Icon="pack://application:,,,/icon.ico"
    TextOptions.TextFormattingMode="Display"
    UseLayoutRounding="True"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0" UseAeroCaptionButtons="False" />
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <ResourceDictionary>
            <SolidColorBrush x:Key="DarkBg" Color="#FF1A1A1A" />
            <SolidColorBrush x:Key="SurfaceBg" Color="#FF0F0F0F" />
            <SolidColorBrush x:Key="Border" Color="#FF2A2A2A" />
            <SolidColorBrush x:Key="Accent" Color="#FFFFFFFF" />
            <SolidColorBrush x:Key="Text" Color="#FFFFFFFF" />
            <SolidColorBrush x:Key="TextSecond" Color="#FFAAAAAA" />
            <SolidColorBrush x:Key="TextTert" Color="#FF666666" />
            <SolidColorBrush x:Key="Success" Color="#FF4CAF50" />
            <SolidColorBrush x:Key="Danger" Color="#FFFF4444" />

            <utilities:IconUrlConverter x:Key="IconUrlConverter" />

            <Style TargetType="ToolTip">
                <Setter Property="Background" Value="{StaticResource SurfaceBg}" />
                <Setter Property="Foreground" Value="{StaticResource Text}" />
                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Padding" Value="12,8" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ToolTip">
                            <Border
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                                <Border.Effect>
                                    <DropShadowEffect
                                        BlurRadius="12"
                                        Direction="270"
                                        Opacity="0.3"
                                        ShadowDepth="4"
                                        Color="Black" />
                                </Border.Effect>
                                <ContentPresenter />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="HeaderTxt" TargetType="TextBlock">
                <Setter Property="FontSize" Value="12" />
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="Foreground" Value="{StaticResource TextTert}" />
                <Setter Property="Margin" Value="0,0,0,8" />
            </Style>

            <Style x:Key="PlaceholderTxt" TargetType="TextBlock">
                <Setter Property="FontSize" Value="15" />
                <Setter Property="Foreground" Value="{StaticResource TextSecond}" />
                <Setter Property="Opacity" Value="0.5" />
                <Setter Property="Margin" Value="21,0,0,0" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="HorizontalAlignment" Value="Left" />
            </Style>

            <Style x:Key="SearchInput" TargetType="TextBox">
                <Setter Property="Background" Value="{StaticResource SurfaceBg}" />
                <Setter Property="Foreground" Value="{StaticResource Text}" />
                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Height" Value="50" />
                <Setter Property="Padding" Value="9,0" />
                <Setter Property="FontSize" Value="15" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="CaretBrush" Value="{StaticResource Accent}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TextBox">
                            <Border
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                                <ScrollViewer
                                    x:Name="PART_ContentHost"
                                    Margin="{TemplateBinding Padding}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="BorderBrush" Value="{StaticResource Accent}" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="BorderBrush" Value="{StaticResource TextSecond}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="ProfileCombo" TargetType="ComboBox">
                <Setter Property="Background" Value="{StaticResource DarkBg}" />
                <Setter Property="Foreground" Value="{StaticResource Text}" />
                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Height" Value="50" />
                <Setter Property="Padding" Value="20,0" />
                <Setter Property="FontSize" Value="15" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ComboBox">
                            <Grid>
                                <ToggleButton
                                    x:Name="ToggleButton"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    ClickMode="Press"
                                    Focusable="False"
                                    IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                                    <ToggleButton.Template>
                                        <ControlTemplate TargetType="ToggleButton">
                                            <Border
                                                x:Name="BorderElement"
                                                Background="{TemplateBinding Background}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="8">
                                                <Border.BorderBrush>
                                                    <SolidColorBrush x:Name="BorderBrush" Color="#FF2A2A2A" />
                                                </Border.BorderBrush>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition />
                                                        <ColumnDefinition Width="40" />
                                                    </Grid.ColumnDefinitions>
                                                    <Path
                                                        x:Name="Arrow"
                                                        Grid.Column="1"
                                                        Width="12"
                                                        Height="12"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Data="M7 10l5 5 5-5z"
                                                        RenderTransformOrigin="0.5,0.5"
                                                        Stretch="Uniform">
                                                        <Path.Fill>
                                                            <SolidColorBrush x:Name="ArrowBrush" Color="#FFAAAAAA" />
                                                        </Path.Fill>
                                                        <Path.RenderTransform>
                                                            <RotateTransform Angle="0" />
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </Grid>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsChecked" Value="True">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetName="Arrow"
                                                                    Storyboard.TargetProperty="(Path.RenderTransform).(RotateTransform.Angle)"
                                                                    To="180"
                                                                    Duration="0:0:0.25">
                                                                    <DoubleAnimation.EasingFunction>
                                                                        <CubicEase EasingMode="EaseOut" />
                                                                    </DoubleAnimation.EasingFunction>
                                                                </DoubleAnimation>
                                                                <ColorAnimation
                                                                    Storyboard.TargetName="BorderBrush"
                                                                    Storyboard.TargetProperty="Color"
                                                                    To="#FFFFFFFF"
                                                                    Duration="0:0:0.2" />
                                                                <ColorAnimation
                                                                    Storyboard.TargetName="ArrowBrush"
                                                                    Storyboard.TargetProperty="Color"
                                                                    To="#FFFFFFFF"
                                                                    Duration="0:0:0.2" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetName="Arrow"
                                                                    Storyboard.TargetProperty="(Path.RenderTransform).(RotateTransform.Angle)"
                                                                    To="0"
                                                                    Duration="0:0:0.25">
                                                                    <DoubleAnimation.EasingFunction>
                                                                        <CubicEase EasingMode="EaseOut" />
                                                                    </DoubleAnimation.EasingFunction>
                                                                </DoubleAnimation>
                                                                <ColorAnimation
                                                                    Storyboard.TargetName="BorderBrush"
                                                                    Storyboard.TargetProperty="Color"
                                                                    To="#FF2A2A2A"
                                                                    Duration="0:0:0.2" />
                                                                <ColorAnimation
                                                                    Storyboard.TargetName="ArrowBrush"
                                                                    Storyboard.TargetProperty="Color"
                                                                    To="#FFAAAAAA"
                                                                    Duration="0:0:0.2" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.ExitActions>
                                                </Trigger>
                                                <MultiTrigger>
                                                    <MultiTrigger.Conditions>
                                                        <Condition Property="IsMouseOver" Value="True" />
                                                        <Condition Property="IsChecked" Value="False" />
                                                    </MultiTrigger.Conditions>
                                                    <MultiTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <ColorAnimation
                                                                    Storyboard.TargetName="BorderBrush"
                                                                    Storyboard.TargetProperty="Color"
                                                                    To="#FFAAAAAA"
                                                                    Duration="0:0:0.15" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiTrigger.EnterActions>
                                                    <MultiTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <ColorAnimation
                                                                    Storyboard.TargetName="BorderBrush"
                                                                    Storyboard.TargetProperty="Color"
                                                                    To="#FF2A2A2A"
                                                                    Duration="0:0:0.15" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiTrigger.ExitActions>
                                                </MultiTrigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </ToggleButton.Template>
                                </ToggleButton>
                                <ContentPresenter
                                    x:Name="ContentSite"
                                    Margin="20,0,40,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Content="{TemplateBinding SelectionBoxItem}"
                                    ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                    ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                    IsHitTestVisible="False" />
                                <Popup
                                    x:Name="Popup"
                                    AllowsTransparency="True"
                                    Focusable="False"
                                    IsOpen="{TemplateBinding IsDropDownOpen}"
                                    Placement="Bottom"
                                    PopupAnimation="None">
                                    <Border
                                        x:Name="DropDownBorder"
                                        MinWidth="{Binding ActualWidth, RelativeSource={RelativeSource TemplatedParent}}"
                                        Margin="0,4,0,0"
                                        Padding="4"
                                        Background="{StaticResource SurfaceBg}"
                                        BorderBrush="{StaticResource Border}"
                                        BorderThickness="1"
                                        CornerRadius="8"
                                        RenderTransformOrigin="0.5,0">
                                        <Border.Effect>
                                            <DropShadowEffect
                                                BlurRadius="16"
                                                Direction="270"
                                                Opacity="0.4"
                                                ShadowDepth="8"
                                                Color="Black" />
                                        </Border.Effect>
                                        <Border.RenderTransform>
                                            <ScaleTransform ScaleX="1" ScaleY="1" />
                                        </Border.RenderTransform>
                                        <ScrollViewer
                                            MaxHeight="200"
                                            HorizontalScrollBarVisibility="Disabled"
                                            VerticalScrollBarVisibility="Auto">
                                            <StackPanel IsItemsHost="True" />
                                        </ScrollViewer>
                                    </Border>
                                </Popup>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsDropDownOpen" Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="DropDownBorder"
                                                    Storyboard.TargetProperty="(Border.RenderTransform).(ScaleTransform.ScaleY)"
                                                    From="0.9"
                                                    To="1"
                                                    Duration="0:0:0.2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="DropDownBorder"
                                                    Storyboard.TargetProperty="Opacity"
                                                    From="0"
                                                    To="1"
                                                    Duration="0:0:0.15" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="ItemContainerStyle">
                    <Setter.Value>
                        <Style TargetType="ComboBoxItem">
                            <Setter Property="Foreground" Value="{StaticResource Text}" />
                            <Setter Property="Padding" Value="12,8" />
                            <Setter Property="Margin" Value="0" />
                            <Setter Property="FontSize" Value="13" />
                            <Setter Property="HorizontalContentAlignment" Value="Left" />
                            <Setter Property="VerticalContentAlignment" Value="Center" />
                            <Setter Property="SnapsToDevicePixels" Value="True" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ComboBoxItem">
                                        <Border
                                            x:Name="ItemBorder"
                                            Margin="2,1"
                                            Padding="{TemplateBinding Padding}"
                                            Background="Transparent"
                                            CornerRadius="4"
                                            SnapsToDevicePixels="True">
                                            <ContentPresenter
                                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                SnapsToDevicePixels="True" />
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <MultiTrigger>
                                                <MultiTrigger.Conditions>
                                                    <Condition Property="IsMouseOver" Value="True" />
                                                    <Condition Property="IsSelected" Value="False" />
                                                </MultiTrigger.Conditions>
                                                <Setter TargetName="ItemBorder" Property="Background" Value="#FF2A2A2A" />
                                                <Setter Property="Cursor" Value="Hand" />
                                            </MultiTrigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding}" Value="__empty__">
                                    <Setter Property="IsHitTestVisible" Value="False" />
                                    <Setter Property="Focusable" Value="False" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="ItemTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <TextBlock>
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Text" Value="{Binding}" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding}" Value="__empty__">
                                                <Setter Property="Text" Value="No other profiles" />
                                                <Setter Property="FontSize" Value="12" />
                                                <Setter Property="Foreground" Value="{StaticResource TextTert}" />
                                                <Setter Property="FontStyle" Value="Italic" />
                                                <Setter Property="HorizontalAlignment" Value="Center" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="PrimaryBtn" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource Accent}" />
                <Setter Property="Foreground" Value="{StaticResource DarkBg}" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Height" Value="50" />
                <Setter Property="Padding" Value="28,0" />
                <Setter Property="FontSize" Value="13" />
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                BorderThickness="0"
                                CornerRadius="8">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Opacity" Value="0.9" />
                    </Trigger>
                    <Trigger Property="IsPressed" Value="True">
                        <Setter Property="Opacity" Value="0.7" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style
                x:Key="AccentBtn"
                BasedOn="{StaticResource PrimaryBtn}"
                TargetType="Button">
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="Height" Value="54" />
            </Style>

            <Style x:Key="HeaderBtn" TargetType="Button">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Padding" Value="12,8" />
                <Setter Property="Height" Value="32" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                CornerRadius="6">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#FF2A2A2A" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="IconBtn" TargetType="Button">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Width" Value="40" />
                <Setter Property="Height" Value="40" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" CornerRadius="8">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#FF2A2A2A" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="RemoveBtn" TargetType="Button">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource Danger}" />
                <Setter Property="BorderBrush" Value="{StaticResource Danger}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Padding" Value="22,0" />
                <Setter Property="Height" Value="36" />
                <Setter Property="FontSize" Value="11" />
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="{StaticResource Danger}" />
                        <Setter Property="Foreground" Value="White" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="AddBtn" TargetType="Button">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource Accent}" />
                <Setter Property="BorderBrush" Value="{StaticResource Accent}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Padding" Value="24,0" />
                <Setter Property="MinWidth" Value="80" />
                <Setter Property="Height" Value="36" />
                <Setter Property="FontSize" Value="11" />
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="{StaticResource Accent}" />
                        <Setter Property="Foreground" Value="{StaticResource DarkBg}" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="SecondToggleBtn" TargetType="ToggleButton">
                <Setter Property="Background" Value="{StaticResource SurfaceBg}" />
                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Width" Value="50" />
                <Setter Property="Height" Value="50" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ToggleButton">
                            <Border
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Opacity" Value="0.8" />
                    </Trigger>
                    <Trigger Property="IsChecked" Value="True">
                        <Setter Property="BorderBrush" Value="{StaticResource Accent}" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="SwitchToggle" TargetType="ToggleButton">
                <Setter Property="Width" Value="54" />
                <Setter Property="Height" Value="28" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ToggleButton">
                            <Grid>
                                <Border
                                    x:Name="Bg"
                                    Background="{StaticResource Border}"
                                    BorderBrush="{StaticResource Border}"
                                    BorderThickness="0"
                                    CornerRadius="14">
                                    <Border.RenderTransform>
                                        <ScaleTransform CenterX="27" CenterY="14" ScaleX="1" ScaleY="1" />
                                    </Border.RenderTransform>
                                </Border>
                                <Ellipse
                                    x:Name="Thumb"
                                    Width="22"
                                    Height="22"
                                    Margin="3,3,0,3"
                                    HorizontalAlignment="Left"
                                    Fill="White">
                                    <Ellipse.RenderTransform>
                                        <TranslateTransform X="0" />
                                    </Ellipse.RenderTransform>
                                </Ellipse>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="Bg" Property="Background" Value="{StaticResource Accent}" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Thumb"
                                                    Storyboard.TargetProperty="(Ellipse.RenderTransform).(TranslateTransform.X)"
                                                    To="26"
                                                    Duration="0:0:0.2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <ColorAnimation
                                                    Storyboard.TargetName="Thumb"
                                                    Storyboard.TargetProperty="Fill.Color"
                                                    To="#FF1A1A1A"
                                                    Duration="0:0:0.15" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Thumb"
                                                    Storyboard.TargetProperty="(Ellipse.RenderTransform).(TranslateTransform.X)"
                                                    To="0"
                                                    Duration="0:0:0.2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <ColorAnimation
                                                    Storyboard.TargetName="Thumb"
                                                    Storyboard.TargetProperty="Fill.Color"
                                                    To="White"
                                                    Duration="0:0:0.15" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                                <Trigger Property="IsChecked" Value="False">
                                    <Setter TargetName="Bg" Property="Background" Value="{StaticResource Border}" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Bg"
                                                    Storyboard.TargetProperty="(Border.RenderTransform).(ScaleTransform.ScaleX)"
                                                    To="1.05"
                                                    Duration="0:0:0.1" />
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Bg"
                                                    Storyboard.TargetProperty="(Border.RenderTransform).(ScaleTransform.ScaleY)"
                                                    To="1.05"
                                                    Duration="0:0:0.1" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Bg"
                                                    Storyboard.TargetProperty="(Border.RenderTransform).(ScaleTransform.ScaleX)"
                                                    To="1"
                                                    Duration="0:0:0.1" />
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Bg"
                                                    Storyboard.TargetProperty="(Border.RenderTransform).(ScaleTransform.ScaleY)"
                                                    To="1"
                                                    Duration="0:0:0.1" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="WinCtrlBtn" TargetType="Button">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Width" Value="46" />
                <Setter Property="Height" Value="32" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" CornerRadius="4">
                                <ContentPresenter
                                    Margin="0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#FF2A2A2A" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style
                x:Key="CloseBtn"
                BasedOn="{StaticResource WinCtrlBtn}"
                TargetType="Button">
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="{StaticResource Danger}" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="ContextItem" TargetType="MenuItem">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource Text}" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="FontSize" Value="13" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="MenuItem">
                            <Border
                                Margin="4,2"
                                Padding="12,10"
                                Background="{TemplateBinding Background}"
                                CornerRadius="6">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="16" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <ContentPresenter
                                        Grid.Column="0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        ContentSource="Icon" />
                                    <TextBlock
                                        Grid.Column="1"
                                        Margin="12,0,0,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Foreground="{TemplateBinding Foreground}"
                                        Text="{TemplateBinding Header}" />
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FF2A2A2A" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style
                x:Key="DangerItem"
                BasedOn="{StaticResource ContextItem}"
                TargetType="MenuItem">
                <Setter Property="Foreground" Value="{StaticResource Danger}" />
            </Style>

            <Style x:Key="ResultsGrid" TargetType="DataGrid">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource Text}" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="GridLinesVisibility" Value="None" />
                <Setter Property="RowBackground" Value="Transparent" />
                <Setter Property="AlternatingRowBackground" Value="Transparent" />
                <Setter Property="CanUserAddRows" Value="False" />
                <Setter Property="CanUserDeleteRows" Value="False" />
                <Setter Property="CanUserResizeRows" Value="False" />
                <Setter Property="CanUserResizeColumns" Value="True" />
                <Setter Property="CanUserReorderColumns" Value="False" />
                <Setter Property="AutoGenerateColumns" Value="False" />
                <Setter Property="HeadersVisibility" Value="Column" />
                <Setter Property="RowHeaderWidth" Value="0" />
                <Setter Property="ColumnHeaderHeight" Value="44" />
                <Setter Property="FontSize" Value="14" />
                <Setter Property="RowHeight" Value="56" />
                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource Border}" />
                <Setter Property="VerticalGridLinesBrush" Value="Transparent" />
                <Setter Property="SelectionMode" Value="Single" />
                <Setter Property="SelectionUnit" Value="FullRow" />
            </Style>

            <Style TargetType="DataGridColumnHeader">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource TextTert}" />
                <Setter Property="FontSize" Value="11" />
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="Padding" Value="20,12" />
                <Setter Property="BorderThickness" Value="0,0,0,1" />
                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                <Setter Property="HorizontalContentAlignment" Value="Left" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="DataGridColumnHeader">
                            <Border
                                x:Name="HeaderBorder"
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <ContentPresenter
                                        Grid.Column="0"
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                                    <Path
                                        x:Name="SortArrow"
                                        Grid.Column="1"
                                        Width="10"
                                        Height="10"
                                        Margin="8,0,0,0"
                                        Data="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"
                                        Fill="{StaticResource TextSecond}"
                                        RenderTransformOrigin="0.5,0.5"
                                        Stretch="Uniform"
                                        Visibility="Collapsed">
                                        <Path.RenderTransform>
                                            <RotateTransform Angle="0" />
                                        </Path.RenderTransform>
                                    </Path>
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation
                                                    Storyboard.TargetProperty="Foreground.Color"
                                                    To="#FFFFFFFF"
                                                    Duration="0:0:0.15" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation
                                                    Storyboard.TargetProperty="Foreground.Color"
                                                    To="#FF666666"
                                                    Duration="0:0:0.15" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                                <Trigger Property="SortDirection" Value="Ascending">
                                    <Setter TargetName="SortArrow" Property="Visibility" Value="Visible" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard Name="ArrowToAscending">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="SortArrow"
                                                    Storyboard.TargetProperty="(Path.RenderTransform).(RotateTransform.Angle)"
                                                    To="180"
                                                    Duration="0:0:0.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <StopStoryboard BeginStoryboardName="ArrowToAscending" />
                                    </Trigger.ExitActions>
                                </Trigger>
                                <Trigger Property="SortDirection" Value="Descending">
                                    <Setter TargetName="SortArrow" Property="Visibility" Value="Visible" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard Name="ArrowToDescending">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="SortArrow"
                                                    Storyboard.TargetProperty="(Path.RenderTransform).(RotateTransform.Angle)"
                                                    To="0"
                                                    Duration="0:0:0.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <StopStoryboard BeginStoryboardName="ArrowToDescending" />
                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="DataGridCell">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource Text}" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Padding" Value="20,0" />
                <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="DataGridCell">
                            <Border
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter VerticalAlignment="Center" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="Transparent" />
                        <Setter Property="Foreground" Value="{StaticResource Text}" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style TargetType="DataGridRow">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="BorderThickness" Value="0,0,0,1" />
                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#FF1E1E1E" />
                    </Trigger>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="#FF252525" />
                    </Trigger>
                </Style.Triggers>
            </Style>

        </ResourceDictionary>
    </Window.Resources>

    <Window.InputBindings>
        <KeyBinding
            Key="F"
            Command="{Binding FocusSearchCommand}"
            Modifiers="Control" />
        <KeyBinding
            Key="G"
            Command="{Binding GenerateApplistCommand}"
            Modifiers="Control" />
        <KeyBinding
            Key="L"
            Command="{Binding LaunchGreenlumaCommand}"
            Modifiers="Control" />
        <KeyBinding
            Key="S"
            Command="{Binding ToggleStealthCommand}"
            Modifiers="Control+Shift" />
    </Window.InputBindings>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Border
            Grid.Row="0"
            Background="{StaticResource DarkBg}"
            BorderBrush="{StaticResource Border}"
            BorderThickness="0,0,0,1"
            MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <Grid Height="70" Margin="40,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel
                    Grid.Column="0"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <Border
                        Width="40"
                        Height="40"
                        Margin="0,2,16,0"
                        Background="{StaticResource Accent}"
                        CornerRadius="8">
                        <TextBlock
                            Margin="0,2,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontFamily="Arial"
                            FontSize="26"
                            FontWeight="Bold"
                            Foreground="{StaticResource DarkBg}"
                            Text="G" />
                    </Border>
                    <StackPanel Margin="0,0,0,2" VerticalAlignment="Center">
                        <TextBlock
                            FontSize="20"
                            FontWeight="SemiBold"
                            Foreground="{StaticResource Text}"
                            Text="GreenLuma Manager" />
                        <TextBlock
                            Margin="0,2,0,0"
                            FontSize="11"
                            Foreground="{StaticResource TextSecond}"
                            Text="{Binding Source={x:Static local:MainWindow.Version}, StringFormat='Version {0}'}" />
                    </StackPanel>
                </StackPanel>

                <StackPanel
                    Grid.Column="2"
                    Height="40"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">

                    <Button
                        Margin="0,0,8,0"
                        Click="GitHubButton_Click"
                        Style="{StaticResource HeaderBtn}"
                        ToolTip="GitHub (3vil3vo)">
                        <StackPanel Orientation="Horizontal">
                            <Path
                                Width="16"
                                Height="16"
                                Margin="0,0,8,0"
                                Data="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
                                Fill="{StaticResource TextSecond}"
                                Stretch="Uniform" />
                            <TextBlock
                                Margin="0,0,0,1"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Foreground="{StaticResource TextSecond}"
                                Text="3vil3vo" />
                        </StackPanel>
                    </Button>

                    <StackPanel x:Name="PnlPluginButtons" Orientation="Horizontal" />

                    <Button
                        x:Name="BtnManagePlugins"
                        Margin="0,0,8,0"
                        Click="ManagePluginsButton_Click"
                        Style="{StaticResource IconBtn}"
                        ToolTip="Manage Plugins"
                        Visibility="Collapsed">
                        <Path
                            Width="18"
                            Height="18"
                            Data="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"
                            Fill="{StaticResource TextSecond}"
                            Stretch="Uniform" />
                    </Button>

                    <Button
                        Margin="0,0,20,0"
                        Click="SettingsButton_Click"
                        Style="{StaticResource IconBtn}"
                        ToolTip="Settings">
                        <Path
                            Width="18"
                            Height="18"
                            Data="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"
                            Fill="{StaticResource TextSecond}"
                            Stretch="Uniform" />
                    </Button>

                    <Border
                        Padding="4"
                        Background="#FF0F0F0F"
                        CornerRadius="6">
                        <StackPanel Orientation="Horizontal">
                            <Button
                                Click="MinimizeButton_Click"
                                Style="{StaticResource WinCtrlBtn}"
                                ToolTip="Minimize">
                                <Path
                                    Width="14"
                                    Height="14"
                                    Data="M19 13H5v-2h14v2z"
                                    Fill="{StaticResource TextSecond}"
                                    Stretch="Uniform" />
                            </Button>

                            <Button
                                x:Name="MaximizeBtn"
                                Click="MaximizeButton_Click"
                                Style="{StaticResource WinCtrlBtn}"
                                ToolTip="Maximize">
                                <Path
                                    x:Name="MaximizeIcon"
                                    Width="14"
                                    Height="14"
                                    Data="M5 5h14v14H5V5zm2 2v10h10V7H7z"
                                    Fill="{StaticResource TextSecond}"
                                    Stretch="Uniform" />
                            </Button>

                            <Button
                                Click="CloseButton_Click"
                                Style="{StaticResource CloseBtn}"
                                ToolTip="Close">
                                <Path
                                    Width="14"
                                    Height="14"
                                    Data="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                                    Fill="{StaticResource TextSecond}"
                                    Stretch="Uniform" />
                            </Button>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.6*" MinWidth="400" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="1*" MinWidth="350" />
            </Grid.ColumnDefinitions>

            <Border
                Grid.Column="0"
                Padding="40,30,30,30"
                Background="{StaticResource DarkBg}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="20" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0">
                        <TextBlock Style="{StaticResource HeaderTxt}" Text="SEARCH STEAM" />

                        <Grid Margin="0,20,0,0" PreviewMouseDown="SearchGrid_PreviewMouseDown">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="12" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Grid Grid.Column="0">
                                <TextBox
                                    x:Name="TxtSearchInput"
                                    GotFocus="SearchInput_GotFocus"
                                    KeyDown="SearchInput_KeyDown"
                                    LostFocus="SearchInput_LostFocus"
                                    Style="{StaticResource SearchInput}" />
                                <TextBlock
                                    x:Name="TxtSearchPlaceholder"
                                    IsHitTestVisible="False"
                                    Style="{StaticResource PlaceholderTxt}"
                                    Text="Search for games, DLC, software..." />
                            </Grid>

                            <Button
                                x:Name="BtnSearch"
                                Grid.Column="2"
                                Width="133"
                                Click="SearchButton_Click"
                                Style="{StaticResource PrimaryBtn}">
                                <StackPanel Orientation="Horizontal">
                                    <Path
                                        Width="18"
                                        Height="18"
                                        Margin="0,0,10,0"
                                        Data="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                                        Fill="{StaticResource DarkBg}"
                                        Stretch="Uniform" />
                                    <TextBlock VerticalAlignment="Center" Text="SEARCH" />
                                </StackPanel>
                            </Button>
                        </Grid>

                        <StackPanel
                            x:Name="PnlSearchLoading"
                            Margin="0,12,0,0"
                            Opacity="0"
                            Orientation="Horizontal"
                            Visibility="Collapsed">
                            <StackPanel.RenderTransform>
                                <ScaleTransform ScaleX="0.95" ScaleY="0.95" />
                            </StackPanel.RenderTransform>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontSize="13"
                                Foreground="{StaticResource TextSecond}"
                                Text="Searching Steam" />
                            <TextBlock
                                x:Name="TxtLoadingDots"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Foreground="{StaticResource TextSecond}"
                                Text="." />
                        </StackPanel>
                    </StackPanel>

                    <Grid Grid.Row="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0" Margin="0,0,0,16">
                            <TextBlock Style="{StaticResource HeaderTxt}" Text="RESULTS" />
                            <Border
                                Padding="12,6"
                                HorizontalAlignment="Right"
                                Background="{StaticResource SurfaceBg}"
                                CornerRadius="12">
                                <TextBlock
                                    x:Name="TxtResultCount"
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Foreground="{StaticResource TextSecond}"
                                    Text="0" />
                            </Border>
                        </Grid>

                        <Border
                            Grid.Row="1"
                            Background="{StaticResource SurfaceBg}"
                            BorderBrush="{StaticResource Border}"
                            BorderThickness="1"
                            CornerRadius="12">
                            <Grid>
                                <DataGrid
                                    x:Name="DgResults"
                                    CanUserSortColumns="True"
                                    MouseDoubleClick="ResultRow_DoubleClick"
                                    Style="{StaticResource ResultsGrid}"
                                    VerticalScrollBarVisibility="Hidden"
                                    Visibility="Collapsed">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn
                                            Width="100"
                                            Binding="{Binding AppId}"
                                            CanUserSort="True"
                                            Header="APP ID"
                                            IsReadOnly="True" />
                                        <DataGridTextColumn
                                            Width="*"
                                            Binding="{Binding Name}"
                                            CanUserSort="True"
                                            Header="NAME"
                                            IsReadOnly="True">
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="TextTrimming" Value="CharacterEllipsis" />
                                                    <Setter Property="ToolTip" Value="{Binding Name}" />
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                        </DataGridTextColumn>
                                        <DataGridTextColumn
                                            Width="120"
                                            Binding="{Binding Type}"
                                            CanUserSort="True"
                                            Header="TYPE"
                                            IsReadOnly="True" />
                                        <DataGridTemplateColumn Width="120" Header="">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button
                                                        Click="AddGameButton_Click"
                                                        Content="ADD"
                                                        Style="{StaticResource AddBtn}"
                                                        Tag="{Binding}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>
                                </DataGrid>

                                <StackPanel
                                    x:Name="PnlEmptyResults"
                                    Margin="40"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                                    <Path
                                        Width="64"
                                        Height="64"
                                        Data="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                                        Fill="{StaticResource TextTert}"
                                        Opacity="0.3"
                                        Stretch="Uniform" />
                                    <TextBlock
                                        Margin="0,16,0,0"
                                        FontSize="15"
                                        Foreground="{StaticResource TextTert}"
                                        Text="Search for games to get started"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Margin="0,4,0,0"
                                        FontSize="12"
                                        Foreground="{StaticResource TextTert}"
                                        Opacity="0.7"
                                        Text="Press Ctrl+F to focus search"
                                        TextAlignment="Center" />
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </Border>

            <GridSplitter
                Grid.Column="1"
                Width="1"
                HorizontalAlignment="Center"
                VerticalAlignment="Stretch"
                Background="{StaticResource Border}" />

            <Border
                Grid.Column="2"
                Padding="30,30,40,30"
                Background="{StaticResource SurfaceBg}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="20" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0">
                        <TextBlock Style="{StaticResource HeaderTxt}" Text="PROFILE" />

                        <Grid Margin="0,20,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="8" />
                                <ColumnDefinition Width="50" />
                            </Grid.ColumnDefinitions>

                            <ComboBox
                                x:Name="CmbProfile"
                                Grid.Column="0"
                                SelectionChanged="ProfileComboBox_SelectionChanged"
                                Style="{StaticResource ProfileCombo}" />

                            <ToggleButton
                                x:Name="BtnProfileOptions"
                                Grid.Column="2"
                                Click="ProfileOptionsButton_Click"
                                Style="{StaticResource SecondToggleBtn}"
                                ToolTip="Profile Options">
                                <Path
                                    Width="20"
                                    Height="20"
                                    Data="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"
                                    Fill="{StaticResource TextSecond}"
                                    Stretch="Uniform" />
                                <ToggleButton.ContextMenu>
                                    <ContextMenu Placement="Bottom" StaysOpen="False">
                                        <ContextMenu.Style>
                                            <Style TargetType="ContextMenu">
                                                <Setter Property="Background" Value="{StaticResource SurfaceBg}" />
                                                <Setter Property="BorderBrush" Value="{StaticResource Border}" />
                                                <Setter Property="BorderThickness" Value="1" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ContextMenu">
                                                            <Border
                                                                Background="{TemplateBinding Background}"
                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                CornerRadius="8">
                                                                <Border.Effect>
                                                                    <DropShadowEffect
                                                                        BlurRadius="12"
                                                                        Direction="270"
                                                                        Opacity="0.3"
                                                                        ShadowDepth="4"
                                                                        Color="Black" />
                                                                </Border.Effect>
                                                                <StackPanel Margin="0" IsItemsHost="True" />
                                                            </Border>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ContextMenu.Style>

                                        <MenuItem
                                            Margin="0,2,0,0"
                                            Click="AddProfileButton_Click"
                                            Header="Add Profile"
                                            Style="{StaticResource ContextItem}">
                                            <MenuItem.Icon>
                                                <Path
                                                    Width="16"
                                                    Height="16"
                                                    Data="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
                                                    Fill="{StaticResource TextSecond}"
                                                    Stretch="Uniform" />
                                            </MenuItem.Icon>
                                        </MenuItem>

                                        <MenuItem
                                            Click="ImportProfileButton_Click"
                                            Header="Import Profile"
                                            Style="{StaticResource ContextItem}">
                                            <MenuItem.Icon>
                                                <Path
                                                    Width="16"
                                                    Height="16"
                                                    Data="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"
                                                    Fill="{StaticResource TextSecond}"
                                                    Stretch="Uniform" />
                                            </MenuItem.Icon>
                                        </MenuItem>

                                        <MenuItem
                                            Click="ExportProfileButton_Click"
                                            Header="Export Profile"
                                            Style="{StaticResource ContextItem}">
                                            <MenuItem.Icon>
                                                <Path
                                                    Width="16"
                                                    Height="16"
                                                    Data="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"
                                                    Fill="{StaticResource TextSecond}"
                                                    Stretch="Uniform" />
                                            </MenuItem.Icon>
                                        </MenuItem>

                                        <Separator>
                                            <Separator.Style>
                                                <Style TargetType="Separator">
                                                    <Setter Property="Background" Value="{StaticResource Border}" />
                                                    <Setter Property="Margin" Value="4,2" />
                                                    <Setter Property="Height" Value="1" />
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="Separator">
                                                                <Border Height="{TemplateBinding Height}" Background="{TemplateBinding Background}" />
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </Separator.Style>
                                        </Separator>

                                        <MenuItem
                                            Margin="0,0,0,2"
                                            Click="DeleteProfileButton_Click"
                                            Header="Delete Profile"
                                            Style="{StaticResource DangerItem}">
                                            <MenuItem.Icon>
                                                <Path
                                                    Width="16"
                                                    Height="16"
                                                    Data="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
                                                    Fill="{StaticResource Danger}"
                                                    Stretch="Uniform" />
                                            </MenuItem.Icon>
                                        </MenuItem>
                                    </ContextMenu>
                                </ToggleButton.ContextMenu>
                            </ToggleButton>
                        </Grid>
                    </StackPanel>

                    <Grid Grid.Row="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0" Margin="0,0,0,16">
                            <TextBlock Style="{StaticResource HeaderTxt}" Text="GAMES" />
                            <Border
                                Padding="12,6"
                                HorizontalAlignment="Right"
                                Background="{StaticResource DarkBg}"
                                CornerRadius="12">
                                <TextBlock
                                    x:Name="TxtGameCount"
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Foreground="{StaticResource TextSecond}"
                                    Text="0" />
                            </Border>
                        </Grid>

                        <Border
                            Grid.Row="1"
                            Background="{StaticResource DarkBg}"
                            BorderBrush="{StaticResource Border}"
                            BorderThickness="1"
                            CornerRadius="12">
                            <Grid>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <ItemsControl x:Name="LstGames" Margin="12">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate DataType="{x:Type models:Game}">
                                                <Border
                                                    x:Name="GameItemBorder"
                                                    Margin="0,0,0,8"
                                                    Padding="16,12"
                                                    Background="{StaticResource SurfaceBg}"
                                                    CornerRadius="8">
                                                    <Border.Style>
                                                        <Style TargetType="Border">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding IsEditing}" Value="False" />
                                                                <MultiDataTrigger>
                                                                    <MultiDataTrigger.Conditions>
                                                                        <Condition Binding="{Binding IsEditing}" Value="False" />
                                                                        <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Self}}" Value="True" />
                                                                    </MultiDataTrigger.Conditions>
                                                                    <Setter Property="Background" Value="#FF1E1E1E" />
                                                                </MultiDataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Border.Style>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="*" />
                                                            <ColumnDefinition Width="Auto" />
                                                        </Grid.ColumnDefinitions>

                                                        <Border
                                                            Grid.Column="0"
                                                            Width="48"
                                                            Height="48"
                                                            Margin="0,0,12,0"
                                                            Background="{StaticResource DarkBg}"
                                                            ClipToBounds="True"
                                                            CornerRadius="6">
                                                            <Grid>
                                                                <TextBlock
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    FontSize="20"
                                                                    FontWeight="SemiBold"
                                                                    Foreground="{StaticResource TextTert}"
                                                                    Text="?" />
                                                                <Image Stretch="Fill">
                                                                    <Image.Source>
                                                                        <Binding Converter="{StaticResource IconUrlConverter}" Path="IconUrl" />
                                                                    </Image.Source>
                                                                    <Image.Style>
                                                                        <Style TargetType="Image">
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding IconUrl}" Value="">
                                                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                                                </DataTrigger>
                                                                                <DataTrigger Binding="{Binding IconUrl}" Value="{x:Null}">
                                                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Image.Style>
                                                                    <Image.Clip>
                                                                        <RectangleGeometry
                                                                            RadiusX="6"
                                                                            RadiusY="6"
                                                                            Rect="0,0,48,48" />
                                                                    </Image.Clip>
                                                                </Image>
                                                            </Grid>
                                                        </Border>

                                                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                                            <Grid>
                                                                <TextBlock
                                                                    x:Name="ViewModeText"
                                                                    Cursor="IBeam"
                                                                    FontSize="14"
                                                                    FontWeight="Medium"
                                                                    Foreground="{StaticResource Text}"
                                                                    MouseLeftButtonDown="GameName_MouseLeftButtonDown"
                                                                    Text="{Binding Name}"
                                                                    TextTrimming="CharacterEllipsis">
                                                                    <TextBlock.Style>
                                                                        <Style TargetType="TextBlock">
                                                                            <Setter Property="Opacity" Value="1" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding IsEditing}" Value="True">
                                                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                                                </DataTrigger>
                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                    <Trigger.EnterActions>
                                                                                        <BeginStoryboard>
                                                                                            <Storyboard>
                                                                                                <ColorAnimation
                                                                                                    Storyboard.TargetProperty="Foreground.Color"
                                                                                                    To="#FFFFFFFF"
                                                                                                    Duration="0:0:0.15" />
                                                                                            </Storyboard>
                                                                                        </BeginStoryboard>
                                                                                    </Trigger.EnterActions>
                                                                                    <Trigger.ExitActions>
                                                                                        <BeginStoryboard>
                                                                                            <Storyboard>
                                                                                                <ColorAnimation
                                                                                                    Storyboard.TargetProperty="Foreground.Color"
                                                                                                    To="#FFFFFFFF"
                                                                                                    Duration="0:0:0.15" />
                                                                                            </Storyboard>
                                                                                        </BeginStoryboard>
                                                                                    </Trigger.ExitActions>
                                                                                </Trigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                    <TextBlock.ToolTip>
                                                                        <ToolTip Content="Double-click to edit" />
                                                                    </TextBlock.ToolTip>
                                                                </TextBlock>


                                                                <Border
                                                                    Padding="8,4"
                                                                    Background="{StaticResource DarkBg}"
                                                                    BorderBrush="{StaticResource Accent}"
                                                                    BorderThickness="2"
                                                                    CornerRadius="6"
                                                                    Opacity="0">
                                                                    <Border.Style>
                                                                        <Style TargetType="Border">
                                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding IsEditing}" Value="True">
                                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                                    <DataTrigger.EnterActions>
                                                                                        <BeginStoryboard>
                                                                                            <Storyboard>
                                                                                                <DoubleAnimation
                                                                                                    Storyboard.TargetProperty="Opacity"
                                                                                                    From="0"
                                                                                                    To="1"
                                                                                                    Duration="0:0:0.2">
                                                                                                    <DoubleAnimation.EasingFunction>
                                                                                                        <CubicEase EasingMode="EaseOut" />
                                                                                                    </DoubleAnimation.EasingFunction>
                                                                                                </DoubleAnimation>
                                                                                            </Storyboard>
                                                                                        </BeginStoryboard>
                                                                                    </DataTrigger.EnterActions>
                                                                                    <DataTrigger.ExitActions>
                                                                                        <BeginStoryboard>
                                                                                            <Storyboard>
                                                                                                <DoubleAnimation
                                                                                                    Storyboard.TargetProperty="Opacity"
                                                                                                    To="0"
                                                                                                    Duration="0:0:0.15" />
                                                                                            </Storyboard>
                                                                                        </BeginStoryboard>
                                                                                    </DataTrigger.ExitActions>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Border.Style>
                                                                    <TextBox
                                                                        Padding="0"
                                                                        VerticalAlignment="Center"
                                                                        Background="Transparent"
                                                                        BorderThickness="0"
                                                                        CaretBrush="{StaticResource Accent}"
                                                                        FontSize="14"
                                                                        FontWeight="Medium"
                                                                        Foreground="{StaticResource Text}"
                                                                        KeyDown="GameNameEdit_KeyDown"
                                                                        Loaded="GameNameEdit_Loaded"
                                                                        LostFocus="GameNameEdit_LostFocus"
                                                                        Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" />
                                                                </Border>
                                                            </Grid>

                                                            <TextBlock
                                                                Margin="0,4,0,0"
                                                                FontSize="11"
                                                                Foreground="{StaticResource TextSecond}"
                                                                Text="{Binding Type}" />
                                                        </StackPanel>

                                                        <Button
                                                            Grid.Column="2"
                                                            Click="RemoveGameButton_Click"
                                                            Content="REMOVE"
                                                            Tag="{Binding}">
                                                            <Button.Style>
                                                                <Style BasedOn="{StaticResource RemoveBtn}" TargetType="Button">
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding IsEditing}" Value="True">
                                                                            <Setter Property="Opacity" Value="0.3" />
                                                                            <Setter Property="IsEnabled" Value="False" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Button.Style>
                                                        </Button>
                                                    </Grid>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>

                                <StackPanel
                                    x:Name="PnlEmptyGames"
                                    Margin="40"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                                    <Path
                                        Width="48"
                                        Height="48"
                                        Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                                        Fill="{StaticResource TextTert}"
                                        Opacity="0.3"
                                        Stretch="Uniform" />
                                    <TextBlock
                                        Margin="0,12,0,0"
                                        FontSize="14"
                                        Foreground="{StaticResource TextTert}"
                                        Text="No games added yet"
                                        TextAlignment="Center" />
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>

                    <StackPanel Grid.Row="3" Margin="0,20,0,0">
                        <Border
                            Margin="0,0,0,16"
                            Padding="18,16"
                            Background="{StaticResource DarkBg}"
                            CornerRadius="10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <Border
                                    Grid.Column="0"
                                    Width="40"
                                    Height="40"
                                    Margin="0,0,14,0"
                                    VerticalAlignment="Center"
                                    Background="{StaticResource SurfaceBg}"
                                    CornerRadius="8">
                                    <Path
                                        Width="20"
                                        Height="20"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Data="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"
                                        Fill="{StaticResource TextSecond}"
                                        Stretch="Uniform" />
                                </Border>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock
                                        FontSize="15"
                                        FontWeight="SemiBold"
                                        Foreground="{StaticResource Text}"
                                        Text="Stealth Mode" />
                                    <TextBlock
                                        Margin="0,3,0,0"
                                        FontSize="12"
                                        Foreground="{StaticResource TextSecond}"
                                        Text="Hide injection process" />
                                </StackPanel>

                                <ToggleButton
                                    x:Name="TglStealthMode"
                                    Grid.Column="2"
                                    VerticalAlignment="Center"
                                    Checked="StealthMode_Changed"
                                    Style="{StaticResource SwitchToggle}"
                                    Unchecked="StealthMode_Changed" />
                            </Grid>
                        </Border>

                        <Button
                            x:Name="BtnGenerateApplist"
                            Margin="0,0,0,12"
                            Click="GenerateApplistButton_Click"
                            Style="{StaticResource AccentBtn}">
                            <StackPanel Orientation="Horizontal">
                                <Path
                                    Width="18"
                                    Height="18"
                                    Margin="0,0,10,0"
                                    Data="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"
                                    Fill="{StaticResource DarkBg}"
                                    Stretch="Uniform" />
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontWeight="SemiBold"
                                    Text="GENERATE APPLIST" />
                            </StackPanel>
                        </Button>

                        <Button
                            x:Name="BtnLaunchGreenluma"
                            Click="LaunchGreenlumaButton_Click"
                            Style="{StaticResource PrimaryBtn}">
                            <StackPanel Orientation="Horizontal">
                                <Path
                                    Width="18"
                                    Height="18"
                                    Margin="0,0,10,0"
                                    Data="M8 5v14l11-7z"
                                    Fill="{StaticResource DarkBg}"
                                    Stretch="Uniform" />
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontWeight="SemiBold"
                                    Text="LAUNCH GREENLUMA" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>

        <Border
            Grid.Row="2"
            Height="36"
            Padding="40,0"
            Background="{StaticResource SurfaceBg}"
            BorderBrush="{StaticResource Border}"
            BorderThickness="0,1,0,0">
            <Grid>
                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                    <Ellipse
                        x:Name="StatusIndicator"
                        Width="8"
                        Height="8"
                        Margin="0,0,8,0"
                        Fill="{StaticResource Success}" />
                    <TextBlock
                        x:Name="TxtStatus"
                        FontSize="12"
                        Foreground="{StaticResource TextSecond}"
                        Text="Ready" />
                </StackPanel>

                <TextBlock
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    FontSize="11"
                    Foreground="{StaticResource TextTert}"
                    Text="Copyright © 3vil3vo 2025" />
            </Grid>
        </Border>

        <Border
            x:Name="Toast"
            Grid.Row="0"
            Grid.RowSpan="3"
            MaxWidth="400"
            Margin="0,0,0,60"
            Padding="20,16"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"
            Background="{StaticResource SurfaceBg}"
            BorderBrush="{StaticResource Accent}"
            BorderThickness="2"
            CornerRadius="8"
            Visibility="Collapsed">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="20"
                    Direction="270"
                    Opacity="0.3"
                    ShadowDepth="4"
                    Color="Black" />
            </Border.Effect>
            <StackPanel Orientation="Horizontal">
                <Path
                    x:Name="ToastIcon"
                    Width="24"
                    Height="24"
                    Margin="0,0,12,0"
                    Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                    Fill="{StaticResource Success}"
                    Stretch="Uniform" />
                <TextBlock
                    x:Name="ToastMessage"
                    VerticalAlignment="Center"
                    FontSize="14"
                    Foreground="{StaticResource Text}"
                    Text="Operation completed successfully"
                    TextWrapping="Wrap" />
            </StackPanel>
        </Border>
    </Grid>
</Window>